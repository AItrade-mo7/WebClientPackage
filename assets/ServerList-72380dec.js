import{b1 as P,b2 as N,b3 as R,d as O,r as g,m as F,c as I,b as o,w as s,u as i,e,F as y,aF as V,y as j,b4 as M,o as c,R as S,f as d,aE as p,b5 as L,t as m,p as U,i as W,a as $,U as T,h as q,_ as B,j as H}from"./index-95e0417b.js";import{G as Q}from"./index-a87d1d08.js";import{A as X}from"./index-571b3aeb.js";import{_ as J}from"./Alert-511444aa.js";import"./Input-b78db60b.js";import"./Suffix-ac62c6bb.js";import"./use-merged-state-2a0ec557.js";const K=()=>P({url:"/api/private/coinAI/List",data:null,method:"post"}),Y=()=>P({url:"/api/private/coinAI/PublicList",data:null,method:"post"}),Z=u=>{const C={...u,Password:N(R(u.Password)),EmailCode:R(u.EmailCode)};return P({url:"/api/private/coinAI/Remove",data:C,method:"post"})},a=u=>(U("data-v-63273986"),u=u(),W(),u),ee={class:"PageWrapper"},se=a(()=>e("div",{class:"title"},"我的卫星服务",-1)),te=a(()=>e("div",{class:"explain"}," 部署私人的卫星服务，更加稳定可靠，可以隐藏IP不被他人知道。拥有独立的系统错误邮箱提醒机制。可以第一时间知道特殊行情和系统运行状态。 适合有一定云服务运维经验的朋友。 ",-1)),ae={class:"ListWrapper"},oe={class:"Server__item"},le=a(()=>e("span",{class:"Server__label"}," ServeID ",-1)),ne={class:"Server__val"},re={class:"Server__item"},ie=a(()=>e("span",{class:"Server__label"}," Version ",-1)),_e={class:"Server__val"},ce={class:"Server__item"},de=a(()=>e("span",{class:"Server__label"}," Describe ",-1)),ue={class:"Server__val"},ve={class:"card_footer"},pe=a(()=>e("hr",null,null,-1)),Se=a(()=>e("div",{class:"title"},"公开的卫星服务",-1)),me=a(()=>e("div",{class:"explain"},"使用他人公开的卫星服务，简单方便。系统的运行状态和权限归服务器所有者掌控。",-1)),fe={class:"ListWrapper"},he={class:"Server__item"},be=a(()=>e("span",{class:"Server__label"}," ServeID ",-1)),Ie={class:"Server__val"},ye={class:"Server__item"},Ce=a(()=>e("span",{class:"Server__label"}," Version ",-1)),De={class:"Server__val"},ke={class:"Server__item"},Ae=a(()=>e("span",{class:"Server__label"}," Describe ",-1)),ge={class:"Server__val"},Le={class:"card_footer"},Pe=a(()=>e("hr",null,null,-1)),we=a(()=>e("div",{class:"groupHint"},"如有任何疑问，请添加用户群:",-1)),ze=a(()=>e("img",{class:"feishu_code",src:"//file.mo7.cc/disk/feishu_group_code.jpg"},null,-1)),Ee=a(()=>e("br",null,null,-1)),xe=a(()=>e("br",null,null,-1)),Re=a(()=>e("br",null,null,-1)),Ve=O({__name:"ServerList",setup(u){const C=$(()=>B(()=>import("./PageTitle-b89e7a26.js"),["assets/PageTitle-b89e7a26.js","assets/index-95e0417b.js","assets/index-0be103ef.css","assets/PageTitle-0e701932.css"])),w=$(()=>B(()=>import("./XIcon-bc7fc57b.js"),["assets/XIcon-bc7fc57b.js","assets/index-95e0417b.js","assets/index-0be103ef.css","assets/XIcon-dcf3bf82.css"]));let f=g([]),h=g([]);const b=()=>{K().then(n=>{n.Code>0&&(f.value=n.Data,z(n.Data,"my"))}),Y().then(n=>{n.Code>0&&(h.value=n.Data,z(n.Data,"pub"))})};let D=g(!1);const k=n=>{b(),X({Email:T.value.Email,IsPassword:!0,EmailAction:`删除 ${n} 服务`,async OkBack(v){const l=v.Password,_=v.Code;return D.value=!0,Z({ServeID:n,Password:l,EmailCode:_}).then(r=>{r.Code>0&&b(),D.value=!1})}})};function z(n,v){const l=j(n);for(let _=0;_<l.length;_++){const r=l[_];Q({SatelliteServe:r.ServeID}).then(t=>{t.Code>0&&(r.Status=2),v=="my"&&(f.value[_]=r),v=="pub"&&(h.value[_]=r)}).catch(()=>{r.Status=-2,v=="my"&&(f.value[_]=r),v=="pub"&&(h.value[_]=r)})}}let E=null;F(()=>{b(),clearInterval(E),E=setInterval(()=>{b()},18e4)});const G=()=>{window.location.reload()};return(n,v)=>{const l=q,_=J,r=M;return c(),I(y,null,[o(i(C),null,{after:s(()=>[o(i(S),{to:"/About/SatelliteServe",className:"CoinServe__about"},{default:s(()=>[o(l,{circle:"",quaternary:"",size:"tiny",class:"About__btn"},{icon:s(()=>[o(i(w),{name:"QuestionCircleOutlined"})]),_:1})]),_:1}),o(l,{strong:"",secondary:"",type:"warning",size:"tiny",class:"reload_btn",onClick:G},{default:s(()=>[d(" 刷新 ")]),_:1})]),default:s(()=>[d(" SatelliteServe ")]),_:1}),e("div",ee,[o(_,{title:"如果服务器状态不正确，请手动刷新页面。",type:"warning",closable:""}),se,te,e("div",ae,[(c(!0),I(y,null,V(f.value,(t,A)=>(c(),p(r,{key:A,title:t.SysName,embedded:"",hoverable:"",size:"small"},{footer:s(()=>[e("div",ve,[t.Status==2?(c(),p(i(S),{key:0,to:`/SatelliteServe/CoinAI/${i(L)(t.ServeID)}`},{default:s(()=>[o(l,{size:"small",type:"success"},{default:s(()=>[d(" 进入 ")]),_:1})]),_:2},1032,["to"])):t.Status==-2?(c(),I(y,{key:1},[o(l,{size:"small",type:"error",disabled:D.value,onClick:x=>k(t.ServeID)},{default:s(()=>[d(" 删除 ")]),_:2},1032,["disabled","onClick"]),o(i(S),{class:"Reboot",to:`/SatelliteServe/CreateCoinServe?port=${t.Port}`},{default:s(()=>[o(l,{size:"small",type:"primary"},{default:s(()=>[d(" 重新部署 ")]),_:1})]),_:2},1032,["to"])],64)):(c(),p(l,{key:2,size:"small",type:"info",onClick:x=>k(t.ServeID)},{default:s(()=>[d(" 加载中。。。 ")]),_:2},1032,["onClick"]))])]),default:s(()=>[e("div",oe,[le,e("span",ne,m(t.ServeID),1)]),e("div",re,[ie,e("span",_e,m(t.SysVersion),1)]),e("div",ce,[de,e("span",ue,m(t.Describe),1)])]),_:2},1032,["title"]))),128)),o(r,{embedded:"",hoverable:"",size:"small"},{default:s(()=>[o(i(S),{to:"/SatelliteServe/CreateCoinServe",class:"addBtn"},{default:s(()=>[o(i(w),{name:"PlusOutlined"})]),_:1})]),_:1})]),pe,Se,me,e("div",fe,[(c(!0),I(y,null,V(h.value,(t,A)=>(c(),p(r,{key:A,title:t.SysName,embedded:"",hoverable:"",size:"small"},{footer:s(()=>[e("div",Le,[o(i(S),{class:"OwnerBtn",to:`/SatelliteServe/MainUser/${i(L)(t.ServeID)}`},{default:s(()=>[o(l,{size:"small",tertiary:"",type:"primary"},{default:s(()=>[d(" 查看拥有者 ")]),_:1})]),_:2},1032,["to"]),t.Status==2?(c(),p(i(S),{key:0,to:`/SatelliteServe/CoinAI/${i(L)(t.ServeID)}`},{default:s(()=>[o(l,{size:"small",type:"success"},{default:s(()=>[d(" 进入 ")]),_:1})]),_:2},1032,["to"])):t.Status==-2?(c(),p(l,{key:1,size:"small",type:"error"},{default:s(()=>[d(" 故障！ ")]),_:1})):(c(),p(l,{key:2,size:"small",type:"info",onClick:x=>k(t.ServeID)},{default:s(()=>[d(" 加载中。。。 ")]),_:2},1032,["onClick"]))])]),default:s(()=>[e("div",he,[be,e("span",Ie,m(t.ServeID),1)]),e("div",ye,[Ce,e("span",De,m(t.SysVersion),1)]),e("div",ke,[Ae,e("span",ge,m(t.Describe),1)])]),_:2},1032,["title"]))),128))]),Pe,we,ze,Ee,xe,Re])],64)}}});const Me=H(Ve,[["__scopeId","data-v-63273986"]]);export{Me as default};
