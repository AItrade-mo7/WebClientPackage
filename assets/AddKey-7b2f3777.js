import{d as N,n as D,r as f,m as L,b8 as V,c as y,b as e,w as a,u as s,e as r,t as j,F as G,b7 as P,h as R,o as A,R as S,f as i,g as T,bD as b,bE as U,p as X,i as $,a as k,y as B,_ as g,j as z}from"./index-95e0417b.js";import{A as M}from"./index-571b3aeb.js";import{G as q,S as J}from"./index-a87d1d08.js";import{_ as Q,a as W}from"./FormItem-16ee8613.js";import{_ as H}from"./Input-b78db60b.js";import"./format-length-c9d165c6.js";import"./get-82e41413.js";import"./Suffix-ac62c6bb.js";import"./use-merged-state-2a0ec557.js";const Y=c=>(X("data-v-2f5dc189"),c=c(),$(),c),Z={class:"PageWrapper"},ee={class:"input_hint_wrapper"},ae={key:0,class:"input_hint"},te={class:"joinFooter"},oe={class:"joinCode"},se=Y(()=>r("br",null,null,-1)),ne={class:"pageFooter"},le=N({__name:"AddKey",setup(c){const I=k(()=>g(()=>import("./PageTitle-b89e7a26.js"),["assets/PageTitle-b89e7a26.js","assets/index-95e0417b.js","assets/index-0be103ef.css","assets/PageTitle-0e701932.css"])),u=k(()=>g(()=>import("./XIcon-bc7fc57b.js"),["assets/XIcon-bc7fc57b.js","assets/index-95e0417b.js","assets/index-0be103ef.css","assets/XIcon-dcf3bf82.css"])),x=D();let _=f({AppEnv:{},GithubInfo:{}}),v=f(!1);const o=f({Name:"",ApiKey:"",SecretKey:"",Passphrase:"",Password:""}),K=async()=>{const n=await J({...B(o.value),SatelliteServe:_.value.AppEnv.ServeID});n.Code>0&&(window.$message.success(n.Msg),x.go(-1))},C=async()=>{v.value=!0,M({IsPassword:!0,async OkBack(n){return v.value=!1,o.value.Password=n.Password,K()}}),v.value=!1};function w(n){q({SatelliteServe:n}).then(t=>{t.Code>0&&(_.value=t.Data)}).catch(()=>{window.$message.error("服务尚未启动",{onAfterLeave(){window.location.href="/SatelliteServe"}})})}L(()=>{const n=V();w(n)});const h=()=>{P(_.value.AppEnv.IP)},O=n=>{P(n)},F=()=>!!(o.value.ApiKey||o.value.SecretKey||o.value.Passphrase);return(n,t)=>{const d=R,m=H,p=W,E=Q;return A(),y(G,null,[e(s(I),null,{after:a(()=>[e(s(S),{to:"/About/OkxKey",className:"CreateOkxKey__about"},{default:a(()=>[e(d,{circle:"",quaternary:"",size:"tiny",class:"About__btn"},{icon:a(()=>[e(s(u),{name:"QuestionCircleOutlined"})]),_:1})]),_:1})]),default:a(()=>[i(" 新增 OKX API 密钥 ")]),_:1}),r("div",Z,[e(E,{ref:"loginForm",model:o.value,size:"small",class:"myForm"},{default:a(()=>[e(p,{class:"myForm__item",label:"备注名"},{default:a(()=>[e(m,{name:"Name",value:o.value.Name,"onUpdate:value":t[0]||(t[0]=l=>o.value.Name=l),inputProps:{autocomplete:"password"},placeholder:"申请秘钥时的备注名"},{prefix:a(()=>[e(s(u),{name:"SkinOutlined"})]),_:1},8,["value"])]),_:1}),e(p,{class:"myForm__item",label:"密码 (申请欧意 V5 API 时设置的密码短语)"},{default:a(()=>[e(m,{name:"Passphrase",value:o.value.Passphrase,"onUpdate:value":t[1]||(t[1]=l=>o.value.Passphrase=l),inputProps:{autocomplete:"password"},placeholder:"申请 API key 时设置的密码"},{prefix:a(()=>[e(s(u),{name:"OkxLogo"})]),_:1},8,["value"])]),_:1}),e(p,{class:"myForm__item",label:"API key"},{default:a(()=>[e(m,{name:"ApiKey",value:o.value.ApiKey,"onUpdate:value":t[2]||(t[2]=l=>o.value.ApiKey=l),inputProps:{autocomplete:"password"},placeholder:"okx 生成的 Api key"},{prefix:a(()=>[e(s(u),{name:"OkxLogo"})]),_:1},8,["value"])]),_:1}),e(p,{class:"myForm__item",label:"Secret key"},{default:a(()=>[e(m,{name:"SecretKey",value:o.value.SecretKey,"onUpdate:value":t[3]||(t[3]=l=>o.value.SecretKey=l),inputProps:{autocomplete:"password"},placeholder:"okx 生成的 Secret key"},{prefix:a(()=>[e(s(u),{name:"OkxLogo"})]),_:1},8,["value"])]),_:1}),e(p,{class:"myForm__item",label:"复制以下内容 并填写到【绑定IP地址】一栏"},{default:a(()=>[e(m,{name:"IP",value:_.value.AppEnv.IP,"onUpdate:value":t[4]||(t[4]=l=>_.value.AppEnv.IP=l),inputProps:{autocomplete:"password"},disabled:"",placeholder:"申请密钥时绑定的IP地址"},{prefix:a(()=>[e(s(u),{name:"OkxLogo"})]),_:1},8,["value"]),e(d,{type:"primary",onClick:h},{default:a(()=>[i(" 复制 ")]),_:1})]),_:1}),e(p,{class:"myForm__item"},{default:a(()=>[r("div",ee,[F()?(A(),y("div",ae,"您当前的输入已被加密")):T("",!0),e(d,{class:"Submit",disabled:v.value,type:"primary",onClick:C},{default:a(()=>[i(" 提交 ")]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["model"]),r("div",te,[r("div",null,[r("span",oe,"注册邀请码： "+j(s(b)),1),e(d,{type:"primary",size:"tiny",onClick:t[5]||(t[5]=l=>O(s(b)))},{default:a(()=>[i(" 复制 ")]),_:1}),se,e(d,{text:"",tag:"a",href:s(U),target:"_blank",type:"primary"},{default:a(()=>[i(" 邀请链接 ")]),_:1},8,["href"])])]),r("div",ne,[e(s(S),{to:"/About/OkxKey",className:"CreateOkxKey__about--footer"},{default:a(()=>[i(" OKX秘钥申请指南 ")]),_:1})])])],64)}}});const fe=z(le,[["__scopeId","data-v-2f5dc189"]]);export{fe as default};
