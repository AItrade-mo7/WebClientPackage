import{d as D,n as I,r as f,k as S,c as V,b as e,w as o,u as r,e as t,F as A,o as N,f as n,L as T,p as O,i as $,a as g,z as U,y as B,h as z,_ as h,j as M}from"./index-95e0417b.js";import{v as y}from"./verify-fcd68c05.js";import{_ as j}from"./InputGroup-c060b251.js";import{_ as W}from"./Checkbox-2062aa61.js";import{_ as X,a as q}from"./FormItem-16ee8613.js";import{_ as G}from"./Input-b78db60b.js";import"./use-merged-state-2a0ec557.js";import"./format-length-c9d165c6.js";import"./get-82e41413.js";import"./Suffix-ac62c6bb.js";const i=c=>(O("data-v-7f8df91b"),c=c(),$(),c),H={class:"PageWrapper"},J={className:"logo-box"},K=["src"],Q=i(()=>t("h2",{className:"title"},[t("div",null,"注册")],-1)),Y={class:"input_hint_wrapper"},Z={class:"input_hint"},ee=i(()=>t("span",null," 提示",-1)),te=i(()=>t("br",null,null,-1)),oe={class:"input_hint_wrapper"},ne={class:"input_hint"},se=i(()=>t("span",null,"注意：",-1)),ae=i(()=>t("span",null,"任何",-1)),le=i(()=>t("br",null,null,-1)),_e=i(()=>t("span",null,"钓鱼邮件",-1)),ie={class:"input_hint_wrapper"},ue={class:"input_hint"},pe={class:"input_hint_wrapper"},re=D({__name:"RegisterPage",setup(c){const E=g(()=>h(()=>import("./XIcon-bc7fc57b.js"),["assets/XIcon-bc7fc57b.js","assets/index-95e0417b.js","assets/index-0be103ef.css","assets/XIcon-dcf3bf82.css"])),b=g(()=>h(()=>import("./SendCode-a5ea60b6.js"),["assets/SendCode-a5ea60b6.js","assets/verify-fcd68c05.js","assets/index-95e0417b.js","assets/index-0be103ef.css"])),w=g(()=>h(()=>import("./PageTitle-b89e7a26.js"),["assets/PageTitle-b89e7a26.js","assets/index-95e0417b.js","assets/index-0be103ef.css","assets/PageTitle-0e701932.css"])),C=I();let d=f(!0),u=f(!1);const k=()=>{u.value=!u.value,d.value=!u.value},s=f({Email:"",Code:"",EntrapmentCode:""}),P=async()=>{const v=y("Email",s.value.Email),a=y("Code",s.value.Code);if(v||a){window.$message.warning(v||a);return}d.value=!0;const l=await U({...B(s.value)});d.value=!1,l.Code>0?window.$notification.success({meta:l.Data,content:l.Msg,onClose(){C.replace("/Login")}}):l.Code==-13&&setTimeout(()=>{C.replace("/Login")},1e3)};return(v,a)=>{const l=G,m=S("RouterLink"),p=q,x=j,R=z,F=W,L=X;return N(),V(A,null,[e(r(w),null,{default:o(()=>[n("Register")]),_:1}),t("div",H,[t("div",J,[t("img",{className:"logo",src:r(T),alt:""},null,8,K)]),Q,e(L,{ref:"loginForm",model:s.value,size:"small",class:"myForm"},{default:o(()=>[e(p,{class:"myForm__item"},{default:o(()=>[t("div",Y,[e(l,{name:"Email",value:s.value.Email,"onUpdate:value":a[0]||(a[0]=_=>s.value.Email=_),inputProps:{autocomplete:"password"},placeholder:"请输入邮箱地址"},{prefix:o(()=>[e(r(E),{name:"MailOutlined"})]),_:1},8,["value"]),t("div",Z,[ee,n("：邮箱是您的身份凭证，请注意邮箱安全。 "),te,n(" 可以在 "),e(m,{class:"link",to:"/Personal"},{default:o(()=>[n("个人中心")]),_:1}),n(" 进行管理。 ")])])]),_:1}),e(p,{class:"myForm__item"},{default:o(()=>[t("div",oe,[e(l,{name:"EntrapmentCode",value:s.value.EntrapmentCode,"onUpdate:value":a[1]||(a[1]=_=>s.value.EntrapmentCode=_),inputProps:{autocomplete:"password"},placeholder:"请输入防钓鱼码"},{prefix:o(()=>[e(r(E),{name:"VerifiedOutlined"})]),_:1},8,["value"]),t("div",ne,[se,n("您收到的"),ae,n("来自系统的邮件都会携带此防钓鱼码。 "),le,n(" 否则可视为"),_e,n("。可在"),e(m,{class:"link",to:"/Personal"},{default:o(()=>[n("个人中心")]),_:1}),n("定期更换。 ")])])]),_:1}),e(p,{class:"myForm__item"},{default:o(()=>[t("div",ie,[e(x,null,{default:o(()=>[e(l,{name:"Code",value:s.value.Code,"onUpdate:value":a[2]||(a[2]=_=>s.value.Code=_),inputProps:{autocomplete:"password"},placeholder:"请输入6位验证码",maxlength:6},null,8,["value"]),e(r(b),{Email:s.value.Email,Action:"注册",EntrapmentCode:s.value.EntrapmentCode},null,8,["Email","EntrapmentCode"])]),_:1}),t("div",ue,[e(m,{class:"link",to:"/About/EmailList"},{default:o(()=>[n("查看当前系统邮箱地址")]),_:1})])])]),_:1}),e(p,{class:"myForm__item"},{default:o(()=>[e(R,{class:"Submit",disabled:d.value,type:"primary",onClick:P},{default:o(()=>[n(" 注册 ")]),_:1},8,["disabled"])]),_:1}),e(p,{class:"myForm__item"},{default:o(()=>[t("div",pe,[e(F,{checked:u.value,"onUpdate:checked":a[3]||(a[3]=_=>u.value=_),"on-update:checked":k},null,8,["checked"]),n(" 同意并已阅读 "),e(m,{class:"link",to:"/About/Duty"},{default:o(()=>[n("《用户协议与免责声明》")]),_:1})])]),_:1})]),_:1},8,["model"])])],64)}}});const be=M(re,[["__scopeId","data-v-7f8df91b"]]);export{be as default};
