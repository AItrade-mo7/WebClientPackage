import{d as A,n as U,r as c,U as _,c as x,b as e,w as o,u as t,e as i,t as v,F,o as f,f as w,L as V,aE as S,g as D,a as p,cE as I,y as L,bH as $,h as T,_ as d,j as B}from"./index-95e0417b.js";import{_ as O}from"./Avatar-795eae64.js";import{_ as R,a as z}from"./FormItem-16ee8613.js";import{_ as M}from"./Input-b78db60b.js";import{_ as j}from"./InputGroup-c060b251.js";import"./Tag-5dcaf9b3.js";import"./format-length-c9d165c6.js";import"./get-82e41413.js";import"./Suffix-ac62c6bb.js";import"./use-merged-state-2a0ec557.js";const H={class:"PageWrapper"},W={className:"User__info"},X={className:"User__NickName"},q={className:"User__Email"},G=A({__name:"ChangePassword",setup(J){const g=p(()=>d(()=>import("./SendCode-a5ea60b6.js"),["assets/SendCode-a5ea60b6.js","assets/verify-fcd68c05.js","assets/index-95e0417b.js","assets/index-0be103ef.css"])),P=p(()=>d(()=>import("./XIcon-bc7fc57b.js"),["assets/XIcon-bc7fc57b.js","assets/index-95e0417b.js","assets/index-0be103ef.css","assets/XIcon-dcf3bf82.css"])),E=p(()=>d(()=>import("./PageTitle-b89e7a26.js"),["assets/PageTitle-b89e7a26.js","assets/index-95e0417b.js","assets/index-0be103ef.css","assets/PageTitle-0e701932.css"])),y=U();let m=c(!1);const a=c({Email:_.value.Email,Code:"",Password:"",AgainPassword:""}),C=async()=>{if(a.value.Password.length<6){window.$message.warning("密码不能太短");return}m.value=!0;const r=await I({...L(a.value)});m.value=!1,r.Code>0&&($(),window.$notification.success({meta:r.Data,content:r.Msg,onClose(){y.replace("/Login")}}))};return(r,s)=>{const h=O,u=M,l=z,k=j,N=T,b=R;return f(),x(F,null,[e(t(E),null,{default:o(()=>[w("Change Password")]),_:1}),i("div",H,[i("div",W,[e(h,{round:"",size:70,src:t(_).value.Avatar,"fallback-src":t(V)},null,8,["src","fallback-src"]),i("div",X,v(t(_).value.NickName),1),i("div",q,v(t(_).value.Email),1)]),e(b,{model:a.value,size:"small",class:"myForm"},{default:o(()=>[t(_).value.Email?D("",!0):(f(),S(l,{key:0,class:"myForm__item"},{default:o(()=>[e(u,{name:"Email",value:a.value.Email,"onUpdate:value":s[0]||(s[0]=n=>a.value.Email=n),inputProps:{autocomplete:"password"},placeholder:"请输入邮箱地址"},{prefix:o(()=>[e(t(P),{name:"MailOutlined"})]),_:1},8,["value"])]),_:1})),e(l,{class:"myForm__item"},{default:o(()=>[e(k,null,{default:o(()=>[e(u,{name:"Code",value:a.value.Code,"onUpdate:value":s[1]||(s[1]=n=>a.value.Code=n),inputProps:{autocomplete:"password"},placeholder:"请输入6位验证码",maxlength:6},null,8,["value"]),e(t(g),{Email:a.value.Email,Action:"修改密码"},null,8,["Email"])]),_:1})]),_:1}),e(l,{class:"myForm__item"},{default:o(()=>[e(u,{value:a.value.Password,"onUpdate:value":s[2]||(s[2]=n=>a.value.Password=n),type:"password",name:"Password","show-password-on":"click",placeholder:"请输入新密码",inputProps:{autocomplete:"password"}},null,8,["value"])]),_:1}),e(l,{class:"myForm__item"},{default:o(()=>[e(u,{value:a.value.AgainPassword,"onUpdate:value":s[3]||(s[3]=n=>a.value.AgainPassword=n),type:"password",name:"AgainPassword","show-password-on":"click",placeholder:"再次输入密码",inputProps:{autocomplete:"password"}},null,8,["value"])]),_:1}),e(l,{class:"myForm__item"},{default:o(()=>[e(N,{class:"Submit",disabled:m.value,type:"primary",onClick:C},{default:o(()=>[w(" 提交 ")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])])],64)}}});const le=B(G,[["__scopeId","data-v-0c4f45e9"]]);export{le as default};
