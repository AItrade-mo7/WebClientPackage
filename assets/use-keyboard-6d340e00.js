import{aZ as y,a_ as m,a$ as h,af as b,ag as r,b0 as w,ah as c,C as v}from"./index-95e0417b.js";function C(p={},n){const a=y({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:u,keyup:i}=p,o=e=>{switch(e.key){case"Control":a.ctrl=!0;break;case"Meta":a.command=!0,a.win=!0;break;case"Shift":a.shift=!0;break;case"Tab":a.tab=!0;break}u!==void 0&&Object.keys(u).forEach(s=>{if(s!==e.key)return;const t=u[s];if(typeof t=="function")t(e);else{const{stop:d=!1,prevent:l=!1}=t;d&&e.stopPropagation(),l&&e.preventDefault(),t.handler(e)}})},f=e=>{switch(e.key){case"Control":a.ctrl=!1;break;case"Meta":a.command=!1,a.win=!1;break;case"Shift":a.shift=!1;break;case"Tab":a.tab=!1;break}i!==void 0&&Object.keys(i).forEach(s=>{if(s!==e.key)return;const t=i[s];if(typeof t=="function")t(e);else{const{stop:d=!1,prevent:l=!1}=t;d&&e.stopPropagation(),l&&e.preventDefault(),t.handler(e)}})},k=()=>{(n===void 0||n.value)&&(c("keydown",document,o),c("keyup",document,f)),n!==void 0&&v(n,e=>{e?(c("keydown",document,o),c("keyup",document,f)):(r("keydown",document,o),r("keyup",document,f))})};return m()?(h(k),b(()=>{(n===void 0||n.value)&&(r("keydown",document,o),r("keyup",document,f))})):k(),w(a)}export{C as u};
