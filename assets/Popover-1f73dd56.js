import{W as K,ah as oe,ag as ae,c6 as re,c7 as te,c8 as nn,c9 as rn,ca as me,cb as tn,c0 as G,cc as U,cd as Ue,ce as ve,c2 as on,cf as Ae,cg as an,ch as Oe,ci as _e,cj as Y,ck as sn,cl as Te,cm as ln,cn as dn,co as un,cp as fn,cq as cn,cr as vn,cs as hn,H as gn,a6 as D,N as B,O as ie,a5 as se,Q as Z,ct as pn,d as ke,S as wn,V as be,r as L,$ as mn,au as je,aT as xe,bp as bn,a9 as yn,af as Sn,C as $n,a2 as J,aW as Pe,ab as Q,aj as An,an as On,am as _n,D as S,ak as Tn,bg as Ce,bq as xn,Y as Pn,aS as qe,aa as le,F as Cn,ao as Mn,aR as En,a3 as Me,cu as Ee,cv as Rn,f as Bn,bv as In,aq as Dn,a4 as V}from"./index-95e0417b.js";import{c as Ln,t as ye,i as Ve,g as Fn,b as zn}from"./get-82e41413.js";import{f as de}from"./format-length-c9d165c6.js";import{u as ee,b as Nn,V as Hn,a as Wn}from"./Follower-1d8d0644.js";import{u as Kn}from"./use-merged-state-2a0ec557.js";let ue;function Gn(){return ue===void 0&&(ue=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ue}function Un(e,n){return K(()=>{for(const r of n)if(e[r]!==void 0)return e[r];return e[n[n.length-1]]})}const W="@@mmoContext",kn={mounted(e,{value:n}){e[W]={handler:void 0},typeof n=="function"&&(e[W].handler=n,oe("mousemoveoutside",e,n))},updated(e,{value:n}){const r=e[W];typeof n=="function"?r.handler?r.handler!==n&&(ae("mousemoveoutside",e,r.handler),r.handler=n,oe("mousemoveoutside",e,n)):(e[W].handler=n,oe("mousemoveoutside",e,n)):r.handler&&(ae("mousemoveoutside",e,r.handler),r.handler=void 0)},unmounted(e){const{handler:n}=e[W];n&&ae("mousemoveoutside",e,n),e[W].handler=void 0}},jn=kn;var qn=re(te,"WeakMap");const he=qn;var Vn=nn(Object.keys,Object);const Xn=Vn;var Yn=Object.prototype,Jn=Yn.hasOwnProperty;function Qn(e){if(!rn(e))return Xn(e);var n=[];for(var r in Object(e))Jn.call(e,r)&&r!="constructor"&&n.push(r);return n}function Se(e){return me(e)?tn(e):Qn(e)}function Zn(e,n){for(var r=-1,t=n.length,a=e.length;++r<t;)e[a+r]=n[r];return e}function er(e,n){for(var r=-1,t=e==null?0:e.length,a=0,o=[];++r<t;){var s=e[r];n(s,r,e)&&(o[a++]=s)}return o}function nr(){return[]}var rr=Object.prototype,tr=rr.propertyIsEnumerable,Re=Object.getOwnPropertySymbols,or=Re?function(e){return e==null?[]:(e=Object(e),er(Re(e),function(n){return tr.call(e,n)}))}:nr;const ar=or;function ir(e,n,r){var t=n(e);return G(e)?t:Zn(t,r(e))}function Be(e){return ir(e,Se,ar)}var sr=re(te,"DataView");const ge=sr;var lr=re(te,"Promise");const pe=lr;var dr=re(te,"Set");const we=dr;var Ie="[object Map]",ur="[object Object]",De="[object Promise]",Le="[object Set]",Fe="[object WeakMap]",ze="[object DataView]",fr=U(ge),cr=U(ve),vr=U(pe),hr=U(we),gr=U(he),F=Ue;(ge&&F(new ge(new ArrayBuffer(1)))!=ze||ve&&F(new ve)!=Ie||pe&&F(pe.resolve())!=De||we&&F(new we)!=Le||he&&F(new he)!=Fe)&&(F=function(e){var n=Ue(e),r=n==ur?e.constructor:void 0,t=r?U(r):"";if(t)switch(t){case fr:return ze;case cr:return Ie;case vr:return De;case hr:return Le;case gr:return Fe}return n});const Ne=F;var pr="__lodash_hash_undefined__";function wr(e){return this.__data__.set(e,pr),this}function mr(e){return this.__data__.has(e)}function ne(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new on;++n<r;)this.add(e[n])}ne.prototype.add=ne.prototype.push=wr;ne.prototype.has=mr;function br(e,n){for(var r=-1,t=e==null?0:e.length;++r<t;)if(n(e[r],r,e))return!0;return!1}function yr(e,n){return e.has(n)}var Sr=1,$r=2;function Xe(e,n,r,t,a,o){var s=r&Sr,i=e.length,l=n.length;if(i!=l&&!(s&&l>i))return!1;var u=o.get(e),c=o.get(n);if(u&&c)return u==n&&c==e;var p=-1,v=!0,b=r&$r?new ne:void 0;for(o.set(e,n),o.set(n,e);++p<i;){var y=e[p],f=n[p];if(t)var x=s?t(f,y,p,n,e,o):t(y,f,p,e,n,o);if(x!==void 0){if(x)continue;v=!1;break}if(b){if(!br(n,function(A,O){if(!yr(b,O)&&(y===A||a(y,A,r,t,o)))return b.push(O)})){v=!1;break}}else if(!(y===f||a(y,f,r,t,o))){v=!1;break}}return o.delete(e),o.delete(n),v}function Ar(e){var n=-1,r=Array(e.size);return e.forEach(function(t,a){r[++n]=[a,t]}),r}function Or(e){var n=-1,r=Array(e.size);return e.forEach(function(t){r[++n]=t}),r}var _r=1,Tr=2,xr="[object Boolean]",Pr="[object Date]",Cr="[object Error]",Mr="[object Map]",Er="[object Number]",Rr="[object RegExp]",Br="[object Set]",Ir="[object String]",Dr="[object Symbol]",Lr="[object ArrayBuffer]",Fr="[object DataView]",He=Ae?Ae.prototype:void 0,fe=He?He.valueOf:void 0;function zr(e,n,r,t,a,o,s){switch(r){case Fr:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Lr:return!(e.byteLength!=n.byteLength||!o(new Oe(e),new Oe(n)));case xr:case Pr:case Er:return an(+e,+n);case Cr:return e.name==n.name&&e.message==n.message;case Rr:case Ir:return e==n+"";case Mr:var i=Ar;case Br:var l=t&_r;if(i||(i=Or),e.size!=n.size&&!l)return!1;var u=s.get(e);if(u)return u==n;t|=Tr,s.set(e,n);var c=Xe(i(e),i(n),t,a,o,s);return s.delete(e),c;case Dr:if(fe)return fe.call(e)==fe.call(n)}return!1}var Nr=1,Hr=Object.prototype,Wr=Hr.hasOwnProperty;function Kr(e,n,r,t,a,o){var s=r&Nr,i=Be(e),l=i.length,u=Be(n),c=u.length;if(l!=c&&!s)return!1;for(var p=l;p--;){var v=i[p];if(!(s?v in n:Wr.call(n,v)))return!1}var b=o.get(e),y=o.get(n);if(b&&y)return b==n&&y==e;var f=!0;o.set(e,n),o.set(n,e);for(var x=s;++p<l;){v=i[p];var A=e[v],O=n[v];if(t)var z=s?t(O,A,v,n,e,o):t(A,O,v,e,n,o);if(!(z===void 0?A===O||a(A,O,r,t,o):z)){f=!1;break}x||(x=v=="constructor")}if(f&&!x){var M=e.constructor,C=n.constructor;M!=C&&"constructor"in e&&"constructor"in n&&!(typeof M=="function"&&M instanceof M&&typeof C=="function"&&C instanceof C)&&(f=!1)}return o.delete(e),o.delete(n),f}var Gr=1,We="[object Arguments]",Ke="[object Array]",X="[object Object]",Ur=Object.prototype,Ge=Ur.hasOwnProperty;function kr(e,n,r,t,a,o){var s=G(e),i=G(n),l=s?Ke:Ne(e),u=i?Ke:Ne(n);l=l==We?X:l,u=u==We?X:u;var c=l==X,p=u==X,v=l==u;if(v&&_e(e)){if(!_e(n))return!1;s=!0,c=!1}if(v&&!c)return o||(o=new Y),s||sn(e)?Xe(e,n,r,t,a,o):zr(e,n,l,r,t,a,o);if(!(r&Gr)){var b=c&&Ge.call(e,"__wrapped__"),y=p&&Ge.call(n,"__wrapped__");if(b||y){var f=b?e.value():e,x=y?n.value():n;return o||(o=new Y),a(f,x,r,t,o)}}return v?(o||(o=new Y),Kr(e,n,r,t,a,o)):!1}function $e(e,n,r,t,a){return e===n?!0:e==null||n==null||!Te(e)&&!Te(n)?e!==e&&n!==n:kr(e,n,r,t,$e,a)}var jr=1,qr=2;function Vr(e,n,r,t){var a=r.length,o=a,s=!t;if(e==null)return!o;for(e=Object(e);a--;){var i=r[a];if(s&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<o;){i=r[a];var l=i[0],u=e[l],c=i[1];if(s&&i[2]){if(u===void 0&&!(l in e))return!1}else{var p=new Y;if(t)var v=t(u,c,l,e,n,p);if(!(v===void 0?$e(c,u,jr|qr,t,p):v))return!1}}return!0}function Ye(e){return e===e&&!ln(e)}function Xr(e){for(var n=Se(e),r=n.length;r--;){var t=n[r],a=e[t];n[r]=[t,a,Ye(a)]}return n}function Je(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}function Yr(e){var n=Xr(e);return n.length==1&&n[0][2]?Je(n[0][0],n[0][1]):function(r){return r===e||Vr(r,e,n)}}function Jr(e,n){return e!=null&&n in Object(e)}function Qr(e,n,r){n=Ln(n,e);for(var t=-1,a=n.length,o=!1;++t<a;){var s=ye(n[t]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++t!=a?o:(a=e==null?0:e.length,!!a&&dn(a)&&un(s,a)&&(G(e)||fn(e)))}function Zr(e,n){return e!=null&&Qr(e,n,Jr)}var et=1,nt=2;function rt(e,n){return Ve(e)&&Ye(n)?Je(ye(e),n):function(r){var t=Fn(r,e);return t===void 0&&t===n?Zr(r,e):$e(n,t,et|nt)}}function tt(e){return function(n){return n==null?void 0:n[e]}}function ot(e){return function(n){return zn(n,e)}}function at(e){return Ve(e)?tt(ye(e)):ot(e)}function it(e){return typeof e=="function"?e:e==null?cn:typeof e=="object"?G(e)?rt(e[0],e[1]):Yr(e):at(e)}function st(e,n){return e&&vn(e,n,Se)}function lt(e,n){return function(r,t){if(r==null)return r;if(!me(r))return e(r,t);for(var a=r.length,o=n?a:-1,s=Object(r);(n?o--:++o<a)&&t(s[o],o,s)!==!1;);return r}}var dt=lt(st);const ut=dt;function ft(e,n){var r=-1,t=me(e)?Array(e.length):[];return ut(e,function(a,o,s){t[++r]=n(a,o,s)}),t}function ct(e,n){var r=G(e)?hn:ft;return r(e,it(n))}const vt={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},ht=e=>{const{boxShadow2:n,popoverColor:r,textColor2:t,borderRadius:a,fontSize:o,dividerColor:s}=e;return Object.assign(Object.assign({},vt),{fontSize:o,borderRadius:a,color:r,dividerColor:s,textColor:t,boxShadow:n})},gt={name:"Popover",common:gn,self:ht},pt=gt,ce={top:"bottom",bottom:"top",left:"right",right:"left"},m="var(--n-arrow-height) * 1.414",wt=D([B("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[D(">",[B("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),ie("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[ie("scrollable",[ie("show-header-or-footer","padding: var(--n-padding);")])]),se("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),se("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),Z("scrollable, show-header-or-footer",[se("content",`
 padding: var(--n-padding);
 `)])]),B("popover-shared",`
 transform-origin: inherit;
 `,[B("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[B("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${m});
 height: calc(${m});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),D("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),D("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),D("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),D("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),P("top-start",`
 top: calc(${m} / -2);
 left: calc(${R("top-start")} - var(--v-offset-left));
 `),P("top",`
 top: calc(${m} / -2);
 transform: translateX(calc(${m} / -2)) rotate(45deg);
 left: 50%;
 `),P("top-end",`
 top: calc(${m} / -2);
 right: calc(${R("top-end")} + var(--v-offset-left));
 `),P("bottom-start",`
 bottom: calc(${m} / -2);
 left: calc(${R("bottom-start")} - var(--v-offset-left));
 `),P("bottom",`
 bottom: calc(${m} / -2);
 transform: translateX(calc(${m} / -2)) rotate(45deg);
 left: 50%;
 `),P("bottom-end",`
 bottom: calc(${m} / -2);
 right: calc(${R("bottom-end")} + var(--v-offset-left));
 `),P("left-start",`
 left: calc(${m} / -2);
 top: calc(${R("left-start")} - var(--v-offset-top));
 `),P("left",`
 left: calc(${m} / -2);
 transform: translateY(calc(${m} / -2)) rotate(45deg);
 top: 50%;
 `),P("left-end",`
 left: calc(${m} / -2);
 bottom: calc(${R("left-end")} + var(--v-offset-top));
 `),P("right-start",`
 right: calc(${m} / -2);
 top: calc(${R("right-start")} - var(--v-offset-top));
 `),P("right",`
 right: calc(${m} / -2);
 transform: translateY(calc(${m} / -2)) rotate(45deg);
 top: 50%;
 `),P("right-end",`
 right: calc(${m} / -2);
 bottom: calc(${R("right-end")} + var(--v-offset-top));
 `),...ct({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,n)=>{const r=["right","left"].includes(n),t=r?"width":"height";return e.map(a=>{const o=a.split("-")[1]==="end",i=`calc((${`var(--v-target-${t}, 0px)`} - ${m}) / 2)`,l=R(a);return D(`[v-placement="${a}"] >`,[B("popover-shared",[Z("center-arrow",[B("popover-arrow",`${n}: calc(max(${i}, ${l}) ${o?"+":"-"} var(--v-offset-${r?"left":"top"}));`)])])])})})]);function R(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function P(e,n){const r=e.split("-")[0],t=["top","bottom"].includes(r)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return D(`[v-placement="${e}"] >`,[B("popover-shared",`
 margin-${ce[r]}: var(--n-space);
 `,[Z("show-arrow",`
 margin-${ce[r]}: var(--n-space-arrow);
 `),Z("overlap",`
 margin: 0;
 `),pn("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${r}: 100%;
 ${ce[r]}: auto;
 ${t}
 `,[B("popover-arrow",n)])])])}const Qe=Object.assign(Object.assign({},be.props),{to:ee.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),mt=({arrowStyle:e,clsPrefix:n})=>S("div",{key:"__popover-arrow__",class:`${n}-popover-arrow-wrapper`},S("div",{class:`${n}-popover-arrow`,style:e})),bt=ke({name:"PopoverBody",inheritAttrs:!1,props:Qe,setup(e,{slots:n,attrs:r}){const{namespaceRef:t,mergedClsPrefixRef:a,inlineThemeDisabled:o}=wn(e),s=be("Popover","-popover",wt,pt,e,a),i=L(null),l=mn("NPopover"),u=L(null),c=L(e.show),p=L(!1);je(()=>{const{show:h}=e;h&&!Gn()&&!e.internalDeactivateImmediately&&(p.value=!0)});const v=K(()=>{const{trigger:h,onClickoutside:$}=e,_=[],{positionManuallyRef:{value:g}}=l;return g||(h==="click"&&!$&&_.push([xe,M,void 0,{capture:!0}]),h==="hover"&&_.push([jn,z])),$&&_.push([xe,M,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&p.value)&&_.push([bn,e.show]),_}),b=K(()=>{const h=e.width==="trigger"?void 0:de(e.width),$=[];h&&$.push({width:h});const{maxWidth:_,minWidth:g}=e;return _&&$.push({maxWidth:de(_)}),g&&$.push({maxWidth:de(g)}),o||$.push(y.value),$}),y=K(()=>{const{common:{cubicBezierEaseInOut:h,cubicBezierEaseIn:$,cubicBezierEaseOut:_},self:{space:g,spaceArrow:j,padding:q,fontSize:I,textColor:d,dividerColor:w,color:T,boxShadow:N,borderRadius:H,arrowHeight:E,arrowOffset:Ze,arrowOffsetVertical:en}}=s.value;return{"--n-box-shadow":N,"--n-bezier":h,"--n-bezier-ease-in":$,"--n-bezier-ease-out":_,"--n-font-size":I,"--n-text-color":d,"--n-color":T,"--n-divider-color":w,"--n-border-radius":H,"--n-arrow-height":E,"--n-arrow-offset":Ze,"--n-arrow-offset-vertical":en,"--n-padding":q,"--n-space":g,"--n-space-arrow":j}}),f=o?yn("popover",void 0,y,e):void 0;l.setBodyInstance({syncPosition:x}),Sn(()=>{l.setBodyInstance(null)}),$n(J(e,"show"),h=>{e.animated||(h?c.value=!0:c.value=!1)});function x(){var h;(h=i.value)===null||h===void 0||h.syncPosition()}function A(h){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(h)}function O(h){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(h)}function z(h){e.trigger==="hover"&&!C().contains(Pe(h))&&l.handleMouseMoveOutside(h)}function M(h){(e.trigger==="click"&&!C().contains(Pe(h))||e.onClickoutside)&&l.handleClickOutside(h)}function C(){return l.getTriggerElement()}Q(An,u),Q(On,null),Q(_n,null);function k(){if(f==null||f.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&p.value))return null;let $;const _=l.internalRenderBodyRef.value,{value:g}=a;if(_)$=_([`${g}-popover-shared`,f==null?void 0:f.themeClass.value,e.overlap&&`${g}-popover-shared--overlap`,e.showArrow&&`${g}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${g}-popover-shared--center-arrow`],u,b.value,A,O);else{const{value:j}=l.extraClassRef,{internalTrapFocus:q}=e,I=!Ce(n.header)||!Ce(n.footer),d=()=>{var w;const T=I?S(Cn,null,le(n.header,E=>E?S("div",{class:`${g}-popover__header`,style:e.headerStyle},E):null),le(n.default,E=>E?S("div",{class:`${g}-popover__content`,style:e.contentStyle},n):null),le(n.footer,E=>E?S("div",{class:`${g}-popover__footer`,style:e.footerStyle},E):null)):e.scrollable?(w=n.default)===null||w===void 0?void 0:w.call(n):S("div",{class:`${g}-popover__content`,style:e.contentStyle},n),N=e.scrollable?S(Mn,{contentClass:I?void 0:`${g}-popover__content`,contentStyle:I?void 0:e.contentStyle},{default:()=>T}):T,H=e.showArrow?mt({arrowStyle:e.arrowStyle,clsPrefix:g}):null;return[N,H]};$=S("div",Pn({class:[`${g}-popover`,`${g}-popover-shared`,f==null?void 0:f.themeClass.value,j.map(w=>`${g}-${w}`),{[`${g}-popover--scrollable`]:e.scrollable,[`${g}-popover--show-header-or-footer`]:I,[`${g}-popover--raw`]:e.raw,[`${g}-popover-shared--overlap`]:e.overlap,[`${g}-popover-shared--show-arrow`]:e.showArrow,[`${g}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:u,style:b.value,onKeydown:l.handleKeydown,onMouseenter:A,onMouseleave:O},r),q?S(xn,{active:e.show,autoFocus:!0},{default:d}):d())}return qe($,v.value)}return{displayed:p,namespace:t,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:i,adjustedTo:ee(e),followerEnabled:c,renderContentNode:k}},render(){return S(Nn,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===ee.tdkey},{default:()=>this.animated?S(Tn,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),yt=Object.keys(Qe),St={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function $t(e,n,r){St[n].forEach(t=>{e.props?e.props=Object.assign({},e.props):e.props={};const a=e.props[t],o=r[t];a?e.props[t]=(...s)=>{a(...s),o(...s)}:e.props[t]=o})}const At=Bn("").type,Ot={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:ee.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},_t=Object.assign(Object.assign(Object.assign({},be.props),Ot),{internalOnAfterLeave:Function,internalRenderBody:Function}),Et=ke({name:"Popover",inheritAttrs:!1,props:_t,__popover__:!0,setup(e){const n=En(),r=L(null),t=K(()=>e.show),a=L(e.defaultShow),o=Kn(t,a),s=Me(()=>e.disabled?!1:o.value),i=()=>{if(e.disabled)return!0;const{getDisabled:d}=e;return!!(d!=null&&d())},l=()=>i()?!1:o.value,u=Un(e,["arrow","showArrow"]),c=K(()=>e.overlap?!1:u.value);let p=null;const v=L(null),b=L(null),y=Me(()=>e.x!==void 0&&e.y!==void 0);function f(d){const{"onUpdate:show":w,onUpdateShow:T,onShow:N,onHide:H}=e;a.value=d,w&&V(w,d),T&&V(T,d),d&&N&&V(N,!0),d&&H&&V(H,!1)}function x(){p&&p.syncPosition()}function A(){const{value:d}=v;d&&(window.clearTimeout(d),v.value=null)}function O(){const{value:d}=b;d&&(window.clearTimeout(d),b.value=null)}function z(){const d=i();if(e.trigger==="focus"&&!d){if(l())return;f(!0)}}function M(){const d=i();if(e.trigger==="focus"&&!d){if(!l())return;f(!1)}}function C(){const d=i();if(e.trigger==="hover"&&!d){if(O(),v.value!==null||l())return;const w=()=>{f(!0),v.value=null},{delay:T}=e;T===0?w():v.value=window.setTimeout(w,T)}}function k(){const d=i();if(e.trigger==="hover"&&!d){if(A(),b.value!==null||!l())return;const w=()=>{f(!1),b.value=null},{duration:T}=e;T===0?w():b.value=window.setTimeout(w,T)}}function h(){k()}function $(d){var w;l()&&(e.trigger==="click"&&(A(),O(),f(!1)),(w=e.onClickoutside)===null||w===void 0||w.call(e,d))}function _(){if(e.trigger==="click"&&!i()){A(),O();const d=!l();f(d)}}function g(d){e.internalTrapFocus&&d.key==="Escape"&&(A(),O(),f(!1))}function j(d){a.value=d}function q(){var d;return(d=r.value)===null||d===void 0?void 0:d.targetRef}function I(d){p=d}return Q("NPopover",{getTriggerElement:q,handleKeydown:g,handleMouseEnter:C,handleMouseLeave:k,handleClickOutside:$,handleMouseMoveOutside:h,setBodyInstance:I,positionManuallyRef:y,isMountedRef:n,zIndexRef:J(e,"zIndex"),extraClassRef:J(e,"internalExtraClass"),internalRenderBodyRef:J(e,"internalRenderBody")}),je(()=>{o.value&&i()&&f(!1)}),{binderInstRef:r,positionManually:y,mergedShowConsideringDisabledProp:s,uncontrolledShow:a,mergedShowArrow:c,getMergedShow:l,setShow:j,handleClick:_,handleMouseEnter:C,handleMouseLeave:k,handleFocus:z,handleBlur:M,syncPosition:x}},render(){var e;const{positionManually:n,$slots:r}=this;let t,a=!1;if(!n&&(r.activator?t=Ee(r,"activator"):t=Ee(r,"trigger"),t)){t=Rn(t),t=t.type===At?S("span",[t]):t;const o={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=t.type)===null||e===void 0)&&e.__popover__)a=!0,t.props||(t.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),t.props.internalSyncTargetWithParent=!0,t.props.internalInheritedEventHandlers?t.props.internalInheritedEventHandlers=[o,...t.props.internalInheritedEventHandlers]:t.props.internalInheritedEventHandlers=[o];else{const{internalInheritedEventHandlers:s}=this,i=[o,...s],l={onBlur:u=>{i.forEach(c=>{c.onBlur(u)})},onFocus:u=>{i.forEach(c=>{c.onFocus(u)})},onClick:u=>{i.forEach(c=>{c.onClick(u)})},onMouseenter:u=>{i.forEach(c=>{c.onMouseenter(u)})},onMouseleave:u=>{i.forEach(c=>{c.onMouseleave(u)})}};$t(t,s?"nested":n?"manual":this.trigger,l)}}return S(Hn,{ref:"binderInstRef",syncTarget:!a,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const o=this.getMergedShow();return[this.internalTrapFocus&&o?qe(S("div",{style:{position:"fixed",inset:0}}),[[In,{enabled:o,zIndex:this.zIndex}]]):null,n?null:S(Wn,null,{default:()=>t}),S(bt,Dn(this.$props,yt,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:o})),{default:()=>{var s,i;return(i=(s=this.$slots).default)===null||i===void 0?void 0:i.call(s)},header:()=>{var s,i;return(i=(s=this.$slots).header)===null||i===void 0?void 0:i.call(s)},footer:()=>{var s,i;return(i=(s=this.$slots).footer)===null||i===void 0?void 0:i.call(s)}})]}})}});export{Et as N,Ot as a,pt as p,mt as r,Un as u};
